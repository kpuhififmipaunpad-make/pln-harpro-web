<!-- Hero Section -->
<section class="hero">
  <div class="hero-overlay"></div>
  <div class="hero-content">
    <div class="logo-hero"></div>
    <h1 class="hero-title">Selamat Datang di Website Resmi</h1>
    <h2 class="hero-subtitle">Pemeliharaan Proteksi, Metering dan Otomasi</h2>
    <p class="hero-location">ULTG Bandung Barat | UPT Bandung</p>
    <div class="hero-divider"></div>
  </div>
</section>

<!-- Personnel Section -->
<section id="personil" class="personnel-section">
  <div class="container">
    <h2 class="section-title">Personil Kami di HarPro</h2>
    <div class="personnel-grid">
      <% if (personnel.length > 0) { %>
        <% personnel.forEach((person, index) => { %>
          <div class="personnel-card level-<%= person.level %>" data-level="<%= person.level %>">
            <div class="card-inner">
              <div class="photo-wrapper">
                <img src="<%= person.photo %><%= encodeURIComponent(person.name) %>" alt="<%= person.name %>">
              </div>
              <div class="personnel-info">
                <h3><%= person.name %></h3>
                <p class="position"><%= person.position %></p>
              </div>
            </div>
          </div>
        <% }); %>
      <% } else { %>
        <!-- Default 4 personnel placeholder -->
        <div class="personnel-card level-1">
          <div class="card-inner">
            <div class="photo-wrapper">
              <img src="https://ui-avatars.com/api/?background=035B71&color=fff&size=200&name=Restu" alt="Restu">
            </div>
            <div class="personnel-info">
              <h3>Restu</h3>
              <p class="position">Koordinator HarPro</p>
            </div>
          </div>
        </div>
        <div class="personnel-card level-2">
          <div class="card-inner">
            <div class="photo-wrapper">
              <img src="https://ui-avatars.com/api/?background=00A2B9&color=fff&size=200&name=Ara" alt="Ara">
            </div>
            <div class="personnel-info">
              <h3>Ara</h3>
              <p class="position">Teknisi Proteksi</p>
            </div>
          </div>
        </div>
        <div class="personnel-card level-3">
          <div class="card-inner">
            <div class="photo-wrapper">
              <img src="https://ui-avatars.com/api/?background=00A2B9&color=fff&size=200&name=Refo" alt="Refo">
            </div>
            <div class="personnel-info">
              <h3>Refo</h3>
              <p class="position">Teknisi Metering</p>
            </div>
          </div>
        </div>
        <div class="personnel-card level-3">
          <div class="card-inner">
            <div class="photo-wrapper">
              <img src="https://ui-avatars.com/api/?background=00A2B9&color=fff&size=200&name=Yudi" alt="Yudi">
            </div>
            <div class="personnel-info">
              <h3>Yudi</h3>
              <p class="position">Teknisi Otomasi</p>
            </div>
          </div>
        </div>
      <% } %>
    </div>
  </div>
</section>

<!-- Calendar Section -->
<section id="kalender" class="calendar-section">
  <div class="container">
    <h2 class="section-title">Kalender Kegiatan Bulanan</h2>
    
    <div class="calendar-wrapper">
      <div class="calendar-header">
        <button class="month-nav" id="prevMonth">&lt;</button>
        <h3 id="currentMonth"></h3>
        <button class="month-nav" id="nextMonth">&gt;</button>
      </div>
      
      <div class="calendar-grid" id="calendarGrid">
        <!-- Generated by JavaScript -->
      </div>
    </div>

    <!-- Activity Form & Details -->
    <div class="activity-container">
      <!-- Form Input Activity -->
      <div class="activity-form" id="activityForm">
        <h3>Input Agenda Kegiatan</h3>
        <form id="scheduleForm">
          <input type="hidden" id="selectedDate" name="date">
          
          <div class="form-row">
            <div class="form-group">
              <label>Tanggal Terpilih:</label>
              <div id="selectedDateDisplay" class="selected-date-display">Pilih tanggal</div>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="gi">Lokasi GI:</label>
              <select id="gi" name="gi" required>
                <option value="">-- Pilih GI --</option>
                <option value="GI Cimahi">GI Cimahi</option>
                <option value="GI Cililin">GI Cililin</option>
                <option value="GI Lembang">GI Lembang</option>
                <option value="GI Batujajar">GI Batujajar</option>
                <option value="GI Padalarang">GI Padalarang</option>
                <option value="GI Cisarua">GI Cisarua</option>
              </select>
            </div>
          </div>

          <div class="form-group">
            <label>Jenis Pekerjaan:</label>
            <div class="checkbox-group">
              <label class="checkbox-label">
                <input type="checkbox" name="workTypes" value="Rutin">
                <span>Rutin</span>
              </label>
              <label class="checkbox-label">
                <input type="checkbox" name="workTypes" value="Non Rutin">
                <span>Non Rutin</span>
              </label>
              <label class="checkbox-label">
                <input type="checkbox" name="workTypes" value="Pihak Lain">
                <span>Pihak Lain</span>
              </label>
              <label class="checkbox-label">
                <input type="checkbox" name="workTypes" value="Libur Nasional">
                <span>Libur Nasional</span>
              </label>
            </div>
          </div>

          <div class="form-group">
            <label>Personel:</label>
            <div class="checkbox-group">
              <label class="checkbox-label">
                <input type="checkbox" name="personnel" value="Restu">
                <span>Restu</span>
              </label>
              <label class="checkbox-label">
                <input type="checkbox" name="personnel" value="Ara">
                <span>Ara</span>
              </label>
              <label class="checkbox-label">
                <input type="checkbox" name="personnel" value="Refo">
                <span>Refo</span>
              </label>
              <label class="checkbox-label">
                <input type="checkbox" name="personnel" value="Yudi">
                <span>Yudi</span>
              </label>
            </div>
          </div>

          <div class="form-group">
            <label for="description">Deskripsi Kegiatan:</label>
            <textarea id="description" name="description" rows="3" placeholder="Contoh: Pemeliharaan trafo..."></textarea>
          </div>

          <div class="form-group">
            <label for="notes">Catatan:</label>
            <textarea id="notes" name="notes" rows="2" placeholder="Catatan tambahan..."></textarea>
          </div>

          <button type="submit" class="btn-submit">Simpan Agenda</button>
        </form>
      </div>

      <!-- Display Activities -->
      <div class="activity-details" id="activityDetails">
        <h3>Agenda Kegiatan</h3>
        <p class="no-activity">Pilih tanggal untuk melihat atau input agenda</p>
        <div id="activityList"></div>
      </div>
    </div>
  </div>
</section>

<!-- Pass activities data to JavaScript -->
<script>
  try {
    const activitiesData = JSON.parse('<%- JSON.stringify(activities || []) %>');
  } catch(e) {
    console.error('Parse error:', e);
    const activitiesData = [];
  }
</script>

